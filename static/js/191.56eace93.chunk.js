"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[191],{19191:function(e,s,r){r.r(s);var i=r(1413),a=r(15861),n=r(42982),l=r(70885),t=r(87757),c=r.n(t),d=r(72791),o=r(78983),u=r(77813),m=r(61134),h=r(93578),p=r(80408),x=r(15063),v=r(80184);s.default=function(){var e,s,r,t,j,f,b,y=(0,d.useState)([]),g=(0,l.Z)(y,2),N=g[0],_=g[1],Z=(0,d.useState)(!1),w=(0,l.Z)(Z,2),C=w[0],k=w[1],S=(0,d.useState)(!1),O=(0,l.Z)(S,2),L=O[0],P=O[1],A=(0,d.useState)([]),F=(0,l.Z)(A,2),q=F[0],E=F[1];(0,d.useEffect)((function(){var e=(0,p.iH)(x.F,"users/");(0,p.jM)(e,(function(e){e.forEach((function(e){var s=e.key;E.push({id:s,name:e.val().username,email:e.val().email,role:e.val().email,phone:e.val().email}),P(!1)}))}))}),[]);var H=function(e){switch(e){case"Active":return"success";case"Inactive":return"secondary";case"Pending":return"warning";case"Banned":return"danger";default:return"primary"}},I=function(){var e=(0,a.Z)(c().mark((function e(s,r,i,a,n,l,t){var d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.t8)((0,p.iH)(x.F,"users/"+s),{username:r,email:i,address:a,phone:n,city:l,role:t});case 3:d=e.sent,console.log(d),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(s,r,i,a,n,l,t){return e.apply(this,arguments)}}(),U=(0,m.cI)(),z=U.register,M=U.handleSubmit,R=U.formState.errors,V=function(){var e=(0,a.Z)(c().mark((function e(s,r){var i,a,n,l,t,d,o,u,m,p,v,j;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),i=s.firstName,a=s.lastName,n=s.email,l=s.address,t=s.phone,d=s.city,o=s.role,u=i+" "+a,m=i+"_"+a,p=(0,h.v0)(x.l),e.next=8,(0,h.Xb)(p,n,m);case 8:return v=e.sent,j=v.user.uid,e.next=12,I(j,u,n,l,t,d,o);case 12:k(!1),r.target.reset(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),k(!1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(s,r){return e.apply(this,arguments)}}();return(0,v.jsxs)(o.rb,{children:[(0,v.jsx)(o.b7,{xs:12,children:(0,v.jsxs)(o.xH,{className:"mb-4",children:[(0,v.jsx)(o.bn,{children:(0,v.jsx)("strong",{children:"Add User"})}),(0,v.jsx)(o.sl,{children:(0,v.jsxs)(o.lx,{className:"row g-3",noValidate:!0,onSubmit:M(V),children:[(0,v.jsxs)(o.b7,{md:6,children:[(0,v.jsx)(o.jO,(0,i.Z)((0,i.Z)({placeholder:"First name","aria-label":"First name"},z("firstName",{required:"Please enter First Name"})),{},{className:"form-control ".concat(R.firstName?"is-invalid":"")})),R.firstName&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(e=R.firstName)||void 0===e?void 0:e.message})]}),(0,v.jsxs)(o.b7,{md:6,children:[(0,v.jsx)(o.jO,(0,i.Z)((0,i.Z)({placeholder:"Last name","aria-label":"Last name"},z("lastName",{required:"Please enter Last Name"})),{},{className:"form-control ".concat(R.lastName?"is-invalid":"")})),R.lastName&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(s=R.lastName)||void 0===s?void 0:s.message})]}),(0,v.jsxs)(o.b7,{md:6,children:[(0,v.jsx)(o.L8,{htmlFor:"inputEmail4",children:"Email"}),(0,v.jsx)(o.jO,(0,i.Z)((0,i.Z)({placeholder:"Email Address",type:"email",id:"inputEmail4"},z("email",{required:"Please enter Email Address",pattern:{value:/^\S+@\S+$/i,message:"Invalid Email"}})),{},{className:"form-control ".concat(R.email?"is-invalid":"")})),R.email&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(r=R.email)||void 0===r?void 0:r.message})]}),(0,v.jsxs)(o.b7,{md:6,children:[(0,v.jsx)(o.L8,{htmlFor:"inputCity",children:"City"}),(0,v.jsx)(o.jO,(0,i.Z)((0,i.Z)({placeholder:"City",id:"inputCity",type:"text"},z("city",{required:"Please enter City"})),{},{className:"form-control ".concat(R.city?"is-invalid":"")})),R.city&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(t=R.city)||void 0===t?void 0:t.message})]}),(0,v.jsxs)(o.b7,{md:12,children:[(0,v.jsx)(o.L8,{htmlFor:"inputAddress",children:"Address"}),(0,v.jsx)(o.jO,(0,i.Z)((0,i.Z)({placeholder:"Address",id:"inputAddress",type:"textarea"},z("address",{required:"Please enter Address"})),{},{className:"form-control ".concat(R.address?"is-invalid":"")})),R.address&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(j=R.address)||void 0===j?void 0:j.message})]}),(0,v.jsxs)(o.b7,{md:6,children:[(0,v.jsx)(o.L8,{htmlFor:"inputZip",children:"Phone"}),(0,v.jsx)(o.jO,(0,i.Z)((0,i.Z)({id:"inputZip",type:"number",placeholder:"Mobile Number"},z("phone",{required:"Mobile Number required",minLength:{value:10,message:"Invalid"},maxLength:{value:10,message:"Invalid"}})),{},{className:"form-control ".concat(R.phone?"is-invalid":"")})),R.phone&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(f=R.phone)||void 0===f?void 0:f.message})]}),(0,v.jsxs)(o.b7,{md:6,children:[(0,v.jsx)(o.L8,{htmlFor:"inputState",children:"Role"}),(0,v.jsxs)(o.LX,(0,i.Z)((0,i.Z)({id:"inputState"},z("role",{required:"Please Select Role"})),{},{className:"form-control ".concat(R.role?"is-invalid":""),children:[(0,v.jsx)("option",{value:"",children:"Choose..."}),(0,v.jsx)("option",{value:"admin",children:"Admin"}),(0,v.jsx)("option",{value:"teacher",children:"Teacher"})]})),R.role&&(0,v.jsx)(o.CO,{invalid:!0,children:null===(b=R.role)||void 0===b?void 0:b.message})]}),(0,v.jsxs)(o.b7,{xs:12,children:[(0,v.jsx)(o.u5,{type:"submit",children:"Submit"}),C&&(0,v.jsx)(o.LQ,{})]})]})})]})}),(0,v.jsx)(o.b7,{children:(0,v.jsxs)(o.xH,{children:[(0,v.jsx)(o.bn,{children:"Users"}),L?(0,v.jsx)(o.LQ,{}):(0,v.jsx)(o.sl,{children:(0,v.jsx)(u.uE,{activePage:1,clickableRows:!0,columns:[{key:"name",_style:{width:"30%"},_props:{color:"primary",className:"fw-semibold"}},{key:"email",_style:{width:"20%"}},{key:"role",filter:!1,sorter:!1,_style:{width:"20%"}},{key:"phone",_style:{width:"20%"}},{key:"show_details",label:"",_style:{width:"1%"},filter:!1,sorter:!1,_props:{color:"primary",className:"fw-semibold"}}],columnSorter:!0,items:q,itemsPerPage:5,pagination:!0,scopedColumns:{status:function(e){return(0,v.jsx)("td",{children:(0,v.jsx)(o.C_,{color:H(e.status),children:e.status})})},show_details:function(e){return(0,v.jsx)("td",{className:"py-2",children:(0,v.jsx)(o.u5,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){!function(e){var s=N.indexOf(e),r=N.slice();-1!==s?r.splice(s,1):r=[].concat((0,n.Z)(N),[e]),_(r)}(e._id)},children:N.includes(e._id)?"Hide":"Show"})})},details:function(e){return(0,v.jsx)(o.V9,{visible:N.includes(e._id),children:(0,v.jsxs)(o.sl,{children:[(0,v.jsx)("h4",{children:e.username}),(0,v.jsxs)("p",{className:"text-muted",children:["User since: ",e.registered]}),(0,v.jsx)(o.u5,{size:"sm",color:"info",children:"User Settings"}),(0,v.jsx)(o.u5,{size:"sm",color:"danger",className:"ml-1",children:"Delete"})]})})}},sorterValue:{column:"name",state:"asc"},tableHeadProps:{color:"danger"},tableProps:{striped:!0,hover:!0}})})]})})]})}}}]);
//# sourceMappingURL=191.56eace93.chunk.js.map